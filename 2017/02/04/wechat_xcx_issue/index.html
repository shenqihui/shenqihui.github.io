<!DOCTYPE html><html lang="zh-cmn-Hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="renderer" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>微信小程序吐槽大会 | 大饼</title><meta name="author" content="大饼"><meta name="description" content="博客,blog,前端,hexo,nodejs,javascript,python,html,css,npm"><link rel="alternate" href="/rss2.xml" title="大饼" type="application/rss2.xml"><meta name="description" content="吐槽大会现在开始开发了一段时间的小程序，目前来说，遇到了很多的坑，关于产品逻辑上面的坑我就不说了，我就单纯说下技术实现上面的坑。"><meta property="og:type" content="article"><meta property="og:title" content="微信小程序吐槽大会"><meta property="og:url" content="http://blog.shenqh.com/2017/02/04/wechat_xcx_issue/index.html"><meta property="og:site_name" content="大饼"><meta property="og:description" content="吐槽大会现在开始开发了一段时间的小程序，目前来说，遇到了很多的坑，关于产品逻辑上面的坑我就不说了，我就单纯说下技术实现上面的坑。"><meta property="og:updated_time" content="2017-02-10T05:57:38.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="微信小程序吐槽大会"><meta name="twitter:description" content="吐槽大会现在开始开发了一段时间的小程序，目前来说，遇到了很多的坑，关于产品逻辑上面的坑我就不说了，我就单纯说下技术实现上面的坑。"><link rel="stylesheet" href="/css/app.css"></head></html><body class="site-page"><nav class="site-navbar"><ul nav-left><h1>大饼</h1></ul><ul nav-right></ul></nav><section site-body part-post><section post><article id="post-wechat_xcx_issue" layout="post"><h1 post-title>微信小程序吐槽大会</h1><time post-time datetime="2017-02-04T01:59:36.000Z" itemprop="datePublished">2017 年 02 月 04 日</time><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/技术/">技术</a></li></ul><div class="clearfix"></div><div page-excerpt><p>吐槽大会现在开始</p><p>开发了一段时间的小程序，目前来说，遇到了很多的坑，关于产品逻辑上面的坑我就不说了，我就单纯说下技术实现上面的坑。</p></div><div page-more><p>下面详细吐槽一下。感觉自己都无力吐槽了。估计微信都不会进行填坑了。总之就是坑爹。</p><hr><p>坑爹一，没有 webview<br>这算是最大的坑爹咯，现成的虽然有第三方库，但是毕竟不是直接浏览器内核就支持的，出错概率还是挺多。可能不支持部分样式。</p><hr><p>坑爹二，没法自定义 filter<br>从 mvvc 框架迁移过来的项目，基本上废了。只能用体力活写程序大法。</p><hr><p>坑爹三，开发者工具 bug 太多<br>这个真是不能忍了，动不动就要重启整个工具，不然就是不给你刷新。</p><hr><p>坑爹四，不规范的 canvas<br>展现效果的时候，设置颜色要用 setFillStyle 之类，绘图需要手动触发 drawCanvas 。<br>不规范。</p><hr><p>坑爹五，样式文档基本靠猜<br>毕竟是 webview 的精简版本，不知道哪些能用哪些不能用了。</p><hr><p>坑爹六，样式链不支持<br>样式多级的继承，基本上废了，只能一级。</p><hr><p>坑爹七，console 的问题<br>一套新的 console 调试的打印方式，各种 json 序列化的 bug 。</p><hr><p>坑爹八，手机端调试问题<br>基本上武功全废，调试全靠猜。</p><hr><p>坑爹九，不能用 new Function 和 eval<br>不能 parse 字符串。</p><hr><p>其他待补充，一直在开发中，遇到坑就继续记录。</p></div><nav class="pagination"><a post-prev href="/2017/10/11/taiwan_tourism_at_2017_national_day/" title="台湾骑行游玩流水账">&#10094; 台湾骑行游玩流水账</a> <a post-next href="/2016/10/05/create_a_vps_at_home/" title="在自己家搭建一个 VPS">在自己家搭建一个 VPS &#10095;</a></nav></article><section id="comments"><div id="disqus_thread"></div></section></section></section><section site-body class="dn"></section><footer site-footer><div copyright>&copy; 2018 大饼<h4>吾十有五而志于养猪，三十始养，四十亏本，五十再亏，六十亏大了，七十卒，不逾矩。现廿五，将卒。</h4></div><div powered><b>Hexo <a href="https://github.com/shenqihui/hexo-theme-pithy" target="_blank">Pithy</a></b> Theme designed by <b><a href="http://blog.shenqh.com/" target="_blank">shenqihui</a></b>, Powered by <b><a href="http://hexo.io/" target="_blank">Hexo</a></b> and <b><a href="https://pages.github.com/">Github Pages</a></b>. <b><a href="/sitemap.xml">Sitemap</a></b>.</div></footer><script>setTimeout(function(){var e="shenqihuiblog";!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()},100)</script></body>
<!DOCTYPE html><html lang="zh-cmn-Hans"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="renderer" content="webkit"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><title>汤姆大叔 深入理解JavaScript系列（20）：《你真懂JavaScript吗？》答案详解 后六道题答案 | 大饼</title><meta name="author" content="大饼"><meta name="description" content="博客,blog,前端,hexo,nodejs,javascript,python,html,css,npm"><link rel="alternate" href="/atom.xml" title="大饼" type="application/rss2.xml"><meta name="description" content="原题目地址：http://www.cnblogs.com/TomXu/archive/2012/02/10/2342098.html答案丰富多彩。我只是记录下自己思考了半天全部的答案。"><meta property="og:type" content="article"><meta property="og:title" content="汤姆大叔 深入理解JavaScript系列（20）：《你真懂JavaScript吗？》答案详解 后六道题答案"><meta property="og:url" content="http://blog.shenqh.com/2014/02/03/汤姆大叔-深入理解JavaScript系列（20）：《你真懂JavaScript吗？》答案详解-后六道题答案/index.html"><meta property="og:site_name" content="大饼"><meta property="og:description" content="原题目地址：http://www.cnblogs.com/TomXu/archive/2012/02/10/2342098.html答案丰富多彩。我只是记录下自己思考了半天全部的答案。"><meta property="og:updated_time" content="2016-12-02T16:08:39.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="汤姆大叔 深入理解JavaScript系列（20）：《你真懂JavaScript吗？》答案详解 后六道题答案"><meta name="twitter:description" content="原题目地址：http://www.cnblogs.com/TomXu/archive/2012/02/10/2342098.html答案丰富多彩。我只是记录下自己思考了半天全部的答案。"><meta name="twitter:creator" content="@shenqihui"><link rel="alternative" href="/atom.xml" title="大饼" type="application/atom+xml"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/css/app.css"></head></html><body class="site-page"><nav class="site-navbar"><ul nav-left><h1>大饼</h1></ul><ul nav-right><li><a href="/">Home</a></li><li><a href="/archives">Archives</a></li><li><a href="/link">Link</a></li><li><a href="http://www.weibo.com/p/1005051896403155" target="_blank">Weibo</a></li><li><a href="https://github.com/shenqihui" target="_blank">Github</a></li><li><a href="/about">About</a></li></ul></nav><section site-body part-post><section post><article id="post-汤姆大叔-深入理解JavaScript系列（20）：《你真懂JavaScript吗？》答案详解-后六道题答案" layout="post"><h1 post-title>汤姆大叔 深入理解JavaScript系列（20）：《你真懂JavaScript吗？》答案详解 后六道题答案</h1><time post-time datetime="2014-02-03T07:00:00.000Z" itemprop="datePublished">2014 年 02 月 03 日</time><div class="clearfix"></div><div page-excerpt><p>原题目地址：<a href="http://www.cnblogs.com/TomXu/archive/2012/02/10/2342098.html">http://www.cnblogs.com/TomXu/archive/2012/02/10/2342098.html</a></p><p>答案丰富多彩。我只是记录下自己思考了半天全部的答案。<br></p></div><div page-more><br>&nbsp;<p></p><p><strong>题目一：找出数字数组中最大的元素（使用Match.max函数）</strong></p><p>这个题目，看到Match，不知道啥东西，结果放在最后，</p><p>用了个很笨的解决方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],arrFunc = [], max = -<span class="literal">Infinity</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, l = arr.length; i &lt; l; i++)&#123;</div><div class="line">  max = <span class="built_in">Math</span>.max(max,arr[i])</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(max);</div></pre></td></tr></table></figure><p>后来看了下原文评论，原来这么简单。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>];</div><div class="line"><span class="built_in">console</span>.log(<span class="built_in">Math</span>.max.apply(<span class="literal">null</span>,arr))</div></pre></td></tr></table></figure><p>这个问题就没啥好解析的了。</p><p><strong>题目二：转化一个数字数组为function数组（每个function都弹出相应的数字）</strong></p><p>for循环闭包的问题，大叔的文章很多提到这个问题。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr=[<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>],arrFunc = [];</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, l = arr.length; i &lt; l; i++)&#123;</div><div class="line">  arrFunc.push((<span class="function"><span class="keyword">function</span>(<span class="params">i</span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">      <span class="built_in">console</span>.log(arr[i]);</div><div class="line">    &#125;</div><div class="line">  &#125;)(i))</div><div class="line">&#125;</div></pre></td></tr></table></figure><p>个人觉得对于闭包最简单的解析：闭包的作用就是保存当前的作用链域的环境。</p><p><strong>题目三：给object数组进行排序（排序条件是每个元素对象的属性个数）</strong></p><p>这个说起来好像很坑爹的赶脚。我居然用了这么笨的想法。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Object</span>.prototype.myLength = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> length = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i <span class="keyword">in</span> <span class="keyword">this</span>)&#123;</div><div class="line">    length ++;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> length;</div><div class="line">&#125;</div><div class="line"><span class="keyword">var</span> objArr = [</div><div class="line">  &#123;<span class="attr">a</span>:<span class="number">1</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">5</span>, <span class="attr">d</span>:<span class="number">7</span>, <span class="attr">e</span>:<span class="number">8</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">h</span>:<span class="number">12</span>, <span class="attr">i</span>:<span class="number">5</span>, <span class="attr">v</span>:<span class="number">9</span>, <span class="attr">w</span>:<span class="number">9</span>, <span class="attr">x</span>:<span class="number">9</span>, <span class="attr">y</span>:<span class="number">9</span>, <span class="attr">z</span>: <span class="number">15</span>&#125;,</div><div class="line">  &#123;<span class="attr">a</span>:<span class="number">2</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">5</span>, <span class="attr">d</span>:<span class="number">7</span>, <span class="attr">e</span>:<span class="number">8</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">h</span>:<span class="number">12</span>, <span class="attr">i</span>:<span class="number">5</span>, <span class="attr">j</span>:<span class="number">7</span>, <span class="attr">k</span>:<span class="number">5</span>, <span class="attr">l</span>:<span class="number">9</span>, <span class="attr">m</span>:<span class="number">9</span>, <span class="attr">n</span>:<span class="number">0</span>, <span class="attr">o</span>:<span class="number">1</span>, <span class="attr">p</span>:<span class="number">9</span>, <span class="attr">x</span>:<span class="number">9</span>, <span class="attr">y</span>:<span class="number">9</span>, <span class="attr">z</span>:<span class="number">9</span> &#125;, </div><div class="line">  &#123;<span class="attr">a</span>:<span class="number">3</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">5</span>, <span class="attr">d</span>:<span class="number">7</span>, <span class="attr">e</span>:<span class="number">8</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">h</span>:<span class="number">12</span>, <span class="attr">i</span>:<span class="number">5</span>, <span class="attr">j</span>:<span class="number">7</span>, <span class="attr">k</span>:<span class="number">5</span>, <span class="attr">l</span>:<span class="number">9</span>, <span class="attr">m</span>:<span class="number">9</span>, <span class="attr">n</span>:<span class="number">0</span>, <span class="attr">o</span>:<span class="number">1</span>, <span class="attr">p</span>:<span class="number">9</span>, <span class="attr">q</span>:<span class="number">0</span> &#125;,</div><div class="line">  &#123;<span class="attr">a</span>:<span class="number">4</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">5</span>, <span class="attr">d</span>:<span class="number">7</span>, <span class="attr">e</span>:<span class="number">8</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">h</span>:<span class="number">12</span>, <span class="attr">i</span>:<span class="number">5</span>, <span class="attr">j</span>:<span class="number">7</span>, <span class="attr">k</span>:<span class="number">5</span>, <span class="attr">w</span>:<span class="number">9</span>, <span class="attr">x</span>:<span class="number">9</span>, <span class="attr">y</span>:<span class="number">9</span>, <span class="attr">z</span>:<span class="number">9</span> &#125;,</div><div class="line">  &#123;<span class="attr">a</span>:<span class="number">5</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">5</span>, <span class="attr">d</span>:<span class="number">7</span>, <span class="attr">e</span>:<span class="number">8</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">h</span>:<span class="number">12</span>, <span class="attr">i</span>:<span class="number">5</span>, <span class="attr">j</span>:<span class="number">7</span>, <span class="attr">k</span>:<span class="number">5</span>, <span class="attr">v</span>:<span class="number">9</span>, <span class="attr">w</span>:<span class="number">9</span>, <span class="attr">x</span>:<span class="number">9</span>, <span class="attr">y</span>:<span class="number">9</span>, <span class="attr">z</span>:<span class="number">9</span> &#125;,</div><div class="line">  &#123;<span class="attr">a</span>:<span class="number">6</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">5</span>, <span class="attr">d</span>:<span class="number">7</span>, <span class="attr">e</span>:<span class="number">8</span>, <span class="attr">g</span>:<span class="number">0</span>, <span class="attr">h</span>:<span class="number">12</span>, <span class="attr">i</span>:<span class="number">5</span>, <span class="attr">j</span>:<span class="number">7</span>, <span class="attr">k</span>:<span class="number">5</span>, <span class="attr">l</span>:<span class="number">9</span>, <span class="attr">m</span>:<span class="number">9</span>, <span class="attr">n</span>:<span class="number">0</span>, <span class="attr">o</span>:<span class="number">1</span>, <span class="attr">p</span>:<span class="number">9</span>, <span class="attr">q</span>:<span class="number">0</span>, <span class="attr">r</span>:<span class="number">8</span>, <span class="attr">s</span>:<span class="number">9</span>, <span class="attr">t</span>:<span class="number">9</span>, <span class="attr">z</span>:<span class="number">9</span> &#125;,</div><div class="line">  &#123;<span class="attr">a</span>:<span class="number">7</span>, <span class="attr">b</span>:<span class="number">2</span>, <span class="attr">c</span>:<span class="number">5</span>, <span class="attr">d</span>:<span class="number">7</span>, <span class="attr">e</span>:<span class="number">8</span>, <span class="attr">x</span>:<span class="number">9</span>, <span class="attr">y</span>:<span class="number">9</span>, <span class="attr">z</span>:<span class="number">9</span> &#125;</div><div class="line">];</div><div class="line"><span class="comment">// arr before sort</span></div><div class="line"><span class="keyword">var</span> numArr1 = []</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, l = objArr.length; i &lt; l; i++ )&#123;</div><div class="line">  numArr1.push( objArr[i].myLength() )</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(numArr1.join(<span class="string">" "</span>)) <span class="comment">//result</span></div><div class="line"><span class="comment">// arr after sort</span></div><div class="line">objArr.sort(<span class="function"><span class="keyword">function</span>(<span class="params">a,b</span>)</span>&#123;</div><div class="line">  <span class="comment">// stable sort</span></div><div class="line">  <span class="comment">// return (a.myLength() &gt; b.myLength()) === true? 1:-1;</span></div><div class="line">  <span class="comment">// unstable sort</span></div><div class="line">  <span class="keyword">return</span> (a.myLength() &gt;= b.myLength()) === <span class="literal">true</span>? <span class="number">1</span>:<span class="number">-1</span>;</div><div class="line">  <span class="comment">// return a.myLength() - b.myLength();</span></div><div class="line">&#125;)</div><div class="line"><span class="keyword">var</span> numArr2 = []</div><div class="line"><span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>, l = objArr.length; i &lt; l; i++ )&#123;</div><div class="line">  <span class="comment">// console.log(i,l,objArr[i].myLength());</span></div><div class="line">  numArr2.push( objArr[i].myLength() )</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.log(numArr2.join(<span class="string">" "</span>)) <span class="comment">//result</span></div></pre></td></tr></table></figure><p>感觉突然自己的想法和别人的有点不同（不好的方向）。</p><p><strong>题目四：利用JavaScript打印出Fibonacci数（不使用全局变量）</strong></p><p>这个问题，写完之后我看了下其他人的写法，一半一半都没写中间缓存保存，我觉得这也是大叔表明不适用全局变量的原因，我把两种方式都写了进去。</p><p>这个是有缓存的，</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fibonacci = (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">  <span class="keyword">var</span> s = [];</div><div class="line">  <span class="keyword">var</span> fun = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">    <span class="keyword">if</span>(s[x])&#123;</div><div class="line">      <span class="keyword">return</span> s[x];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span>(x &lt; <span class="number">0</span>) &#123;</div><div class="line">      <span class="keyword">throw</span> <span class="string">"Can't be negative"</span>;</div><div class="line">      <span class="keyword">return</span> ;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(x === <span class="number">0</span> || x === <span class="number">1</span>) &#123;</div><div class="line">      s[x] = s[x] || x;</div><div class="line">      <span class="keyword">return</span> s[x];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">else</span>&#123;</div><div class="line">      s[x] = ( fun(x - <span class="number">1</span>) + fun(x - <span class="number">2</span>) );</div><div class="line">      <span class="keyword">return</span> s[x];</div><div class="line">    &#125;</div><div class="line">  &#125;;</div><div class="line">  fun.print = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="built_in">console</span>.log(s.join(<span class="string">" "</span>));</div><div class="line">  &#125;</div><div class="line">  fun.printLast = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="comment">// console.log(s.length);</span></div><div class="line">    <span class="keyword">return</span>(s[s.length<span class="number">-1</span>]);</div><div class="line">  &#125;</div><div class="line">  <span class="built_in">window</span>.s = s;</div><div class="line">  <span class="keyword">return</span> fun;</div><div class="line"></div><div class="line">&#125;)()</div><div class="line"><span class="built_in">console</span>.time(<span class="number">200</span>);</div><div class="line"><span class="built_in">console</span>.log(fibonacci(<span class="number">200</span>));</div><div class="line"><span class="built_in">console</span>.log(fibonacci.printLast());</div><div class="line"><span class="built_in">console</span>.log(fibonacci.print());</div><div class="line"><span class="built_in">console</span>.timeEnd(<span class="number">200</span>);</div></pre></td></tr></table></figure><p>测试几百几千位的时间不足1000ms。</p><p>这个是递归无缓存的，</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fibonacci2 = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>)</span>&#123;</div><div class="line">  <span class="keyword">if</span>(x &lt; <span class="number">0</span>) &#123;</div><div class="line">    <span class="keyword">throw</span> <span class="string">"Can't be negative"</span>;</div><div class="line">    <span class="keyword">return</span> ;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">if</span>(x === <span class="number">0</span> || x === <span class="number">1</span>) &#123;</div><div class="line">    <span class="keyword">return</span> x;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">var</span> num = ( fibonacci2(x - <span class="number">1</span>) + fibonacci2(x - <span class="number">2</span>) )</div><div class="line">  <span class="keyword">return</span> num;</div><div class="line">&#125;</div><div class="line"><span class="built_in">console</span>.time(<span class="number">32</span>);</div><div class="line"><span class="built_in">console</span>.log(fibonacci2(<span class="number">32</span>));</div><div class="line"><span class="built_in">console</span>.timeEnd(<span class="number">32</span>);</div></pre></td></tr></table></figure><p>测试个32位已经4000ms+，时间呈数量级增长，太坑。</p><p><strong>题目五：实现如下语法的功能：var a = (5).plus(3).minus(6); //2</strong></p><p>这个算是最简单的吧，但是我居然和别人的不一样，都能运行。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Number</span>.prototype.plus = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> num = <span class="keyword">this</span>.valueOf() + x;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Number</span>(num);</div><div class="line">&#125;</div><div class="line"><span class="built_in">Number</span>.prototype.minus = <span class="function"><span class="keyword">function</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> num = <span class="keyword">this</span>.valueOf() - x;</div><div class="line">  <span class="keyword">return</span> <span class="built_in">Number</span>(num);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> a = (<span class="number">5</span>).plus(<span class="number">3</span>).minus(<span class="number">6</span>);</div><div class="line"><span class="built_in">console</span>.log(a);</div><div class="line">alert(a);</div></pre></td></tr></table></figure><p>人家直接返回一个num，我返回一个Number封装的num对象，其实都一样是Number对象。</p><p><strong>题目六：实现如下语法的功能：var a = add(2)(3)(4); //9</strong></p><p>这个题目算是第一个做出来的题目，因为我觉得这个题目的要求最简单，一看就记得，半夜睡醒了在床上直接脑袋打草稿运行了。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">  <span class="keyword">var</span> mid;</div><div class="line">  mid = x || <span class="number">0</span>;</div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">addObj</span>(<span class="params">x</span>) </span>&#123;</div><div class="line">    x = x || <span class="number">0</span>;</div><div class="line">    mid = mid + x;</div><div class="line">    <span class="keyword">return</span> addObj;</div><div class="line">  &#125;</div><div class="line">  addObj.valueOf = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> mid;</div><div class="line">  &#125;</div><div class="line">  addObj.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">    <span class="keyword">return</span> mid;</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">return</span> addObj;</div><div class="line">&#125;</div><div class="line"><span class="comment">//call the obj.valueOf function</span></div><div class="line"><span class="built_in">console</span>.log(add(<span class="number">2</span>));</div><div class="line"><span class="built_in">console</span>.log(add(<span class="number">2</span>)(<span class="number">3</span>));</div><div class="line"><span class="built_in">console</span>.log(add(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>));</div><div class="line"><span class="built_in">console</span>.log(add(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>)(<span class="number">5</span>));</div><div class="line"></div><div class="line"><span class="comment">//call the obj.toString function</span></div><div class="line">alert(add(<span class="number">2</span>));</div><div class="line">alert(add(<span class="number">2</span>)(<span class="number">3</span>));</div><div class="line">alert(add(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>));</div><div class="line">alert(add(<span class="number">2</span>)(<span class="number">3</span>)(<span class="number">4</span>)(<span class="number">5</span>));</div></pre></td></tr></table></figure><p>能无限调用。</p><p>写完上述代码，我参考了下原文评论里面的，看了下自己的代码，和别人的比较下，有好的地方，也有不足之处，不过我的代码比较浅显，不想部分人写的那些看了很久才看明白，特别是那个写了缓存的fibonacci数列的答案。</p></div><nav class="pagination"><a post-prev href="/2014/02/08/从一道数学题弹程序员的思维：数学题，求证：-a-b-c-c-a-b-c/" title="从一道数学题弹程序员的思维：数学题，求证：(a+b%c)%c=(a+b)%c">&#10094; 从一道数学题弹程序员的思维：数学题，求证：(a+b%c)%c=(a+b)%c</a> <a post-next href="/2013/08/21/canvas绘制自定义的曲线，以椭圆为例，通俗易懂，童叟无欺/" title="canvas绘制自定义的曲线，以椭圆为例，通俗易懂，童叟无欺">canvas绘制自定义的曲线，以椭圆为例，通俗易懂，童叟无欺 &#10095;</a></nav></article><section id="comments"><div id="disqus_thread"></div></section></section></section><section site-body class="dn"><nav><a href="/tags/css/" style="font-size:12px;color:#636363">css</a> <a href="/tags/ellipsis/" style="font-size:10px;color:#777">ellipsis</a> <a href="/tags/git/" style="font-size:10px;color:#777">git</a> <a href="/tags/javascript/" style="font-size:16px;color:#3a3a3a">javascript</a> <a href="/tags/life/" style="font-size:10px;color:#777">life</a> <a href="/tags/ppt/" style="font-size:10px;color:#777">ppt</a> <a href="/tags/python/" style="font-size:10px;color:#777">python</a> <a href="/tags/table/" style="font-size:10px;color:#777">table</a> <a href="/tags/warp/" style="font-size:10px;color:#777">warp</a> <a href="/tags/前端/" style="font-size:18px;color:#252525">前端</a> <a href="/tags/技术/" style="font-size:20px;color:#111">技术</a> <a href="/tags/旅游/" style="font-size:14px;color:#4e4e4e">旅游</a> <a href="/tags/生活/" style="font-size:10px;color:#777">生活</a> <a href="/tags/设计/" style="font-size:10px;color:#777">设计</a></nav></section><footer site-footer><div copyright>&copy; 2018 大饼<h4>吾十有五而志于养猪，三十始养，四十亏本，五十再亏，六十亏大了，七十卒，不逾矩。现廿五，将卒。</h4></div><div powered><b>Hexo <a href="https://github.com/shenqihui/hexo-theme-pithy" target="_blank">Pithy</a></b> Theme designed by <b><a href="http://blog.shenqh.com/" target="_blank">shenqihui</a></b>, Powered by <b><a href="http://hexo.io/" target="_blank">Hexo</a></b> and <b><a href="https://pages.github.com/">Github Pages</a></b>. <b><a href="/sitemap.xml">Sitemap</a></b>. <b><a href="/atom.xml">Rss</a></b>.</div><br><div footer_word>我们俩都是年轻人，要将自己献身于伟大事业的开创，我们是天生的魔术师，但我们不会用自己的天赋去伤害任何人。 -- 阿尔弗雷德·波登 《致命魔术》</div></footer><script>setTimeout(function(){var e="shenqihuiblog";!function(){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.src="//"+e+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(t)}()},100)</script><script type="text/javascript">!function(e,a,t,n,c,s,o){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,s=a.createElement(t),o=a.getElementsByTagName(t)[0],s.async=1,s.src=n,o.parentNode.insertBefore(s,o)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-48454013-1","auto"),ga("require","displayfeatures"),ga("send","pageview")</script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?a359010dd82707c1ee6d1ca5d64be33b";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script></body>
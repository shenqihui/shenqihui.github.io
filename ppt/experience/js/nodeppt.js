!function(e,t,n,i,o,s){function r(e){e=e?decodeURIComponent(e):"";var t=e.split("?"),n=t[1]?t[1]:t[0],i=n.split("&"),o={};return i.forEach(function(e){e=e.split("="),e[0].length>0&&(o[e[0]]=e[1]||"")}),o}function a(e,t,n){e&&"function"==typeof e.dispatchEvent||(n=t,t=e,e=null);var i=document.createEvent("Event");if(i.initEvent("ppt"+t,!0,!0),i.stopped=!1,i.stop=function(){i.preventDefault(),i.stopPropagation(),i.stopped=!0},n)for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o]);return e&&e.dispatchEvent&&e.dispatchEvent(i),i}function c(){$e.current=fe+1,Z&&(Z.style.width=(fe+1)/(te+1)*100+"%")}function l(e){return se.slice.call(e)}function d(e,n){return n=n&&1===n.nodeType?n:t,n.querySelectorAll(e)}function u(e){return t.getElementById(e)}function f(e){return x()?void $e.curItem--:($e.curItem=0,m(Q[fe]),pe=fe,--fe<0&&(fe=0),void e("prev",!e))}function="" p(e){return="" l()?void="" $e.curitem++:($e.curitem="0,m(Q[fe]),pe=fe,++fe">te&&(fe=te),E("next",!e),void y(Q[fe])(Q[fe+1]))}function v(){Le&&clearTimeout(Le),Le=setTimeout(b,800)}function h(e){if(!e)return e;e=e.split(".");for(var t=window,n=0,i=e.length;i>n;n++){var o=typeof t[e[n]];if("object"!==o&&"function"!==o)break;t=t[e[n]]}return"function"==typeof t?t:null}function b(){var e=Q[fe];if(e&&(!e||1===e.nodeType)){var t=e.dataset,n=t.incallback||t.onEnter,i=h(n),o=a("Enter",{container:e});i&&"function"==typeof i&&W(n,o),["Keypress","Build"].forEach(function(n){var i=t["on"+n];i=h(i),i&&"function"==typeof i&&e.addEventListener("ppt"+n,i,!0)});var s=l(d("iframe[data-src]",e));s.length&&s.forEach(function(e){var t=e.dataset.src;t&&(e.src=t,delete e.dataset.src)})}}function m(e){!e||e&&1!==e.nodeType||(xe&&clearTimeout(xe),xe=setTimeout(function(){g(e)},1500))}function g(e){var t=e.dataset,n=t.outcallback||t.onLeave,i=h(n),o=a("Leave",{container:e});i&&"function"==typeof i&&W(n,o),["Keypress","Build"].forEach(function(n){var i=t["on"+n];i=h(i),i&&"function"==typeof i&&e.removeEventListener("ppt"+n,i,!0)})}function y(e){var t=arguments.callee;if(e&&1===e.nodeType)for(var n=d("preload",e),i=n.length;i--;){var o=n[i],s=o.dataset,r=s.type,a=s.url,c=ne["load"+r.toUpperCase()];"function"==typeof c&&c(a,function(e){return function(){e.parentNode&&e.parentNode.removeChild(e),e=null}}(o))}return t}function L(e){if(oe.classList.contains("overview"))return!1;$curSlide=Q[fe];var t=a($curSlide,"Build",{direction:"next",container:$curSlide});if(t.stopped)return t.stopped;var n,i=l(d(".building"),$curSlide);if(i.length)for(;n=i.shift();)n=n.classList,n.remove("building"),n.add("builded");var o=d(".tobuild",$curSlide);if(!o.length)return!1;var s=o.item(0);return n=s.classList,n.remove("tobuild"),n.contains("subSlide")&&l(d(".subSlide.builded",$curSlide)).forEach(function(e){e.classList.add("subBuilded")}),n.add("building"),!0}function x(e){if(oe.classList.contains("overview"))return!1;$curSlide=Q[fe];var t=a($curSlide,"Build",{direction:"prev",container:$curSlide});if(t.stopped)return t.stopped;var n,i,o=l(d(".building"),$curSlide),s=o.length;if(s)for(;n=o.shift();){var r=n.classList;if(r.remove("building"),r.add("tobuild"),i=n,r.contains("subSlide")){var c=l(d(".subSlide.builded.subBuilded",$curSlide)).pop();c&&c.classList.remove("subBuilded")}}var u=l(d(".builded",$curSlide));if(!u.length&&!s)return!1;var f=u.pop();return f&&(i||(i=f),n=f.classList,n.remove("builded"),0===s?(n.add("tobuild"),f=u.pop(),f.classList.remove("builded"),f.classList.add("building")):n.add("building")),!0}function k(){for(var e,t=te,n=Ce.transition,i=".build > *,.fadeIn > *,.rollIn > *,.moveIn > *,.bounceIn > *,.zoomIn > *,.fade > *,.subSlide";e=Q[t--];){var o=l(d(i,e)),s=e.dataset;o.forEach(function(e,t){e.classList.add("tobuild"),"index"in e.dataset||(e.dataset.index=t)}),s.transition||(s.transition=n)}}function E(n){return w(),c(),de&&(ue=!0,e.location.hash="#"+fe),v(n),we(),t.body.classList.contains("overview")?void T():void(t.body.classList.contains("popup")||t.body.classList.remove("with-notes"))}function w(){var e=fe,t="pagedown";if(pe!==fe||($cur=Q[fe],!$cur.classList.contains("pageup"))){pe>fe&&(t="pageup");for(var i=0,o=Q.length;o>i;++i)switch(i){case e-2:I(Q[i],"far-past",t);break;case e-1:I(Q[i],"past",t);break;case e:I(Q[i],"current",t);break;case e+1:I(Q[i],"next",t);break;case e+2:I(Q[i],"far-next",t);break;default:I(Q[i])}n.fire("slide.update",fe,0,t)}}function S(e){oe.classList.toggle("overview"),T(),e||n.fire("overview")}function T(){for(var e,n=t.body.classList.contains("overview"),i=0;e=Q[i];i++)e.style.transform=e.style.webkitTransform=e.style.msTransform=e.style.mozTransform=n?"translateZ(-2500px) translate("+105*(i-fe)+"%, 0%)":"",e.style.animation=e.style.webkitAnimation=e.style.msAnimation=e.style.mozAnimation=n?"none":"",$e.fire(n?"overviewshown":"overviewhidden")}function I(e,t,n){if(e){t&&e.classList.add(t),n&&-1===location.href.indexOf("_multiscreen=control")&&-1===location.href.indexOf("iscontroller=1")&&e.classList.add(n);var i=["next","past","far-next","far-past","current","pagedown","pageup"];i.forEach(function(i){t!==i&&n!==i&&e.classList.remove(i)})}}function F(e){var i=e.keyCode,o=e.target;if(!/^(input|textarea)$/i.test(o.nodeName)&&!o.isContentEditable){e.isFromControl||n.fire("nodepptEvent:eventKeyup",e),n.fire("slide.keyup",e);var s=Q[fe],r=a(s,"Keypress",{keyCode:i,orgiTarget:o,container:s});if(r.stopped)return r.stopped;switch(i){case 122:be.supportsFullScreen&&be.requestFullScreen(document.body);break;case 13:if(t.body.classList.contains("overview"))S(e.isFromControl);else{var c=parseInt(ve)-1;c>=0&&te>=c&&H(c)}ve="";break;case 72:t.body.classList.toggle("highlight-code"),setTimeout(function(){t.body.classList.toggle("highlight-code")},2e3);break;case 87:e.shiftKey&&e.metaKey||oe.classList.contains("popup")||G.classList.toggle("layout-widescreen");break;case 79:S(e.isFromControl);break;case 78:oe.classList.contains("popup")||t.body.classList.toggle("with-notes");break;case 80:oe.classList.contains("popup")||K(e.isFromControl);break;case 66:if(V.context){V.context.strokeStyle="rgba(0,0,255,0.5)";break}case 89:if(V.context){V.context.strokeStyle="rgba(255,255,0,0.5)";break}case 82:if(V.context){V.context.strokeStyle="rgba(255,0,0,0.5)";break}case 71:if(V.context){V.context.strokeStyle="rgba(0,255,0,0.5)";break}case 77:if(V.context){V.context.strokeStyle="rgba(255,0,255,0.5)";break}case 49:ve+="1",V.context&&(V.context.lineWidth=3);break;case 50:ve+="2",V.context&&(V.context.lineWidth=7);break;case 51:ve+="3",V.context&&(V.context.lineWidth=11);break;case 52:ve+="4",V.context&&(V.context.lineWidth=15);break;case 48:ve+="0";break;case 53:ve+="5";break;case 54:ve+="6";break;case 55:ve+="7";break;case 56:ve+="8";break;case 57:ve+="9";break;case 67:oe.classList.contains("popup")||we(e.isFromControl);break;case 33:case 37:case 38:f();break;case 32:case 34:case 39:case 40:p()}}}function C(e){if(!ke&&1===e.touches.length){re=0,ae=0;var t=e.touches[0];ce=t.pageX,le=t.pageY,oe.addEventListener("touchmove",$,!0),oe.addEventListener("touchend",D,!0)}}function $(e){if(e.touches.length>1)X();else{var t=e.touches[0];re=t.pageX-ce,ae=t.pageY-le}try{e.preventDefault()}catch(n){console.log(n)}}function D(e){var t=Math.abs(re),n=Math.abs(ae);return t>15&&2*t/3>n&&re>0?(X(),P(38)):(P(39),void X())}function P(e){var t=document.createEvent("Event");t.initEvent("keyup",!0,!0),t.keyCode=e,document.dispatchEvent(t)}function X(){oe.removeEventListener("touchmove",$,!0),oe.removeEventListener("touchend",D,!0)}function Y(){t.addEventListener("keyup",F,!1),oe.addEventListener("touchstart",C,!1),u("_btn-bar").addEventListener("click",function(){var e=!1;return function(){e?(this.classList.remove("fa-close"),this.classList.add("fa-bars"),u("_btn-box").style.display="none"):(this.classList.remove("fa-bars"),this.classList.add("fa-close"),u("_btn-box").style.display="inline-block"),e=!e}}(),!1),u("_btn-prev").addEventListener("click",function(){P(38)},!1),u("_btn-next").addEventListener("click",function(){P(39)},!1),u("_btn-overview").addEventListener("click",function(){var e=!1;return function(){e?(this.classList.add("fa-compress"),this.classList.remove("fa-expand")):(this.classList.add("fa-expand"),this.classList.remove("fa-compress")),S(),e=!e}}(),!1),u("_btn-brush").addEventListener("click",function(){var e=!1;return function(){e?(this.classList.add("fa-paint-brush"),this.classList.remove("fa-eraser"),we()):(K(),this.classList.add("fa-eraser"),this.classList.remove("fa-paint-brush")),e=!e}}(),!1),e.addEventListener("hashchange",function(){location.hash&&!ue&&(de=!1,m(Q[fe]),pe=fe,fe=0|location.hash.substr(1),E(),de=!0),ue=!1},!0)}function B(){V.context=V.getContext("2d");var e=V.context;e.lineWidth=3,e.lineJoin="round",e.strokeStyle="rgba(255,0,0,0.5)"}function K(e){V&&(ke=!0,oe.classList.contains("with-notes")&&(Ee=1,oe.classList.remove("with-notes"),oe.classList.remove("popup")),V.width=oe.clientWidth,V.height=oe.clientHeight,B(),V.style.display="",G.style.overflow="hidden",V.addEventListener("mousedown",Se,!0),V.addEventListener("mouseup",Ie,!0),V.addEventListener("mousemove",Fe,!0),V.addEventListener("touchmove",Fe,!0),V.addEventListener("touchend",Ie,!0),V.addEventListener("touchcancel",Ie,!0),V.addEventListener("touchstart",Se,!0),t.addEventListener("selectstart",M,!0),e||n.fire("nodepptEvent:show paint"))}function M(){return!1}function O(){G.style.overflow="",V.context&&V.context.clearRect(0,0,R,U),V.style.display="none"}function W(e,t){var n=h(e);n(t)}function _(){ee=u(Ce.tipID),G=u(Ce.containerID),R=Ce.width,U=Ce.height,Z=u(Ce.progressID),$e.$slides=Q=l(d(Ce.slideClass,G)),te=Q.length,$e.count=te,te--,V=u(Ce.drawBoardID),V&&(V.style.display="none")}function q(){i(Ce.dir+"img.screenfull.js",function(){var e=l(d(Ce.slideClass+" img",G));screenfull(e)})}function J(){Ce.theme&&o("/css/theme."+Ce.theme+".css")}function N(){he&&he.print&&l(d("iframe[data-src]")).forEach(function(e){0===e.src.indexOf("about:blank")&&e.dataset.src&&(e.src=e.dataset.src)})}function z(e){e=e||{};for(var t in Ce)t in e&&(Ce[t]=e[t]);if(["theme","transition"].forEach(function(e){he&&he[e]&&(Ce[e]=he[e])}),$e.dir=Ce.dir,Ce.control){var n=Ce.control;i(Ce.dir+"nodeppt.control.js",function(){$e.Control.load(n.type,n.args)})}_(),J(),k(),q(),Y(),pe=fe,he&&he.print?N():(location.hash&&(fe=0|location.hash.substr(1))?E():(w(),c(),v()),y(Q[fe])(Q[fe+1])),oe.style.opacity=1}function j(e){var t=d(".magic",e.container);if(t.length){t=t[0];var n=0|(t.dataset.index||0),i="pagedown";"prev"===e.direction&&(i="pageup");var o=l(d(".magicItem",t)),s=o.length;if(!e.firstKiss){if("prev"===e.direction){if(n--,0>n)return n=0,t.dataset.index=n,void(t.dataset.status="wait");e.stop()}else{if(n++,n===s)return n=s-1,t.dataset.index=n,void(t.dataset.status="done");e.stop()}t.dataset.index=n}if(e.firstKiss){var r=o[n];r.addEventListener(ie,function(){t.style.visibility="visible"})}for(var a=0;s>a;++a)switch(a){case n-2:I(o[a],"far-past",i);break;case n-1:I(o[a],"past",i);break;case n:I(o[a],"current",i);break;case n+1:I(o[a],"next",i);break;case n+2:I(o[a],"far-next",i);break;default:I(o[a])}}}function A(){return fe}function H(e){pe=e-1,pe=0>pe?0:pe,fe=e,E()}var R,U,Z,G,Q,V,ee,te,ne={loadJS:i,loadCSS:o},ie=function(){var e,t=document.createElement("fakeelement"),n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(t.style[e]!==s)return n[e]}(),oe=t.body,se=[],re=0,ae=0,ce=0,le=0,de=!0,ue=!1,fe=0,pe=0,ve="",he=r(location.search),be={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""},me="webkit moz o ms".split(" ");if("undefined"!=typeof document.cancelFullScreen)be.supportsFullScreen=!0;else for(var ge=0,ye=me.length;ye>ge;ge++)if(be.prefix=me[ge],"undefined"!=typeof document[be.prefix+"CancelFullScreen"]){be.supportsFullScreen=!0;break}be.supportsFullScreen&&(be.fullScreenEventName=be.prefix+"fullscreenchange",be.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},be.requestFullScreen=function(e){return""===this.prefix?e.requestFullScreen():e[this.prefix+"RequestFullScreen"]()},be.cancelFullScreen=function(e){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()});var Le,xe,ke=!1,Ee=0,we=function(e){O(),ve="",Ee&&(oe.classList.add("with-notes"),oe.classList.add("popup")),ke=!1,V.removeEventListener("mousedown",Se),V.removeEventListener("mouseup",Ie),V.removeEventListener("mousemove",Fe),V.removeEventListener("touchstart",Se),V.removeEventListener("touchmove",Fe),V.removeEventListener("touchend",Ie),V.removeEventListener("touchcancel",Ie),t.removeEventListener("selectstart",M,!0),e||n.fire("nodepptEvent:remove paint")},Se=function(n){V.isMouseDown=!0;try{var i=n.targetTouches[0];n=i}catch(o){}var s=V.iLastX=n.layerX||n.offsetX||n.clientX-V.offsetLeft+(e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft),r=V.iLastY=n.layerY||n.offsetY||n.clientY-V.offsetTop+(e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop);return Te.push({x:s,y:r}),!1},Te=[],Ie=function(e){V.isMouseDown=!1,V.iLastX=-1,V.iLastY=-1,e.isFromControl||n.fire("nodepptEvent:paint points",Te),Te.length=0};n.on("controlEvent:paint points",function(e){var t=e.points,n=e.screen,i=n.width/2,o=n.height/2,s=oe.offsetWidth,r=oe.offsetHeight,a=s/2,c=r/2,l=s/n.width,d=r/n.height,u=V.context;if(u){u.beginPath();var f=a-(i-t[0].x)*l,p=c-(o-t[0].y)*d;u.moveTo(f,p);for(var v=0,h=t.length;h>v;v++)u.lineTo(a-(i-t[v].x)*l,c-(o-t[v].y)*d);u.stroke()}});var Fe=function(n){var i=n;if(V.isMouseDown){try{var o=n.targetTouches[0];n=o}catch(s){console.log(s)}var r=n.layerX||n.offsetX||n.clientX-V.offsetLeft+(e.pageXOffset||t.body.scrollLeft||t.documentElement.scrollLeft),a=n.layerY||n.offsetY||n.clientY-V.offsetTop+(e.pageYOffset||t.body.scrollTop||t.documentElement.scrollTop),c=V.context;c.beginPath(),c.moveTo(V.iLastX,V.iLastY),c.lineTo(r,a),c.stroke(),V.iLastX=r,V.iLastY=a,Te.push({x:r,y:a});try{i.preventDefault()}catch(s){console.log(s)}return!1}},Ce={containerID:"container",isControlDevice:!1,drawBoardID:"drawBoard",slideClass:".slide",buildClass:".build",progressID:"progress",transition:"",tipID:"tip",webSocketHost:"",width:900,dir:"./",height:700,control:!1};j.init=function(e){var t=d(".magic",e.container);if(t.length){t=t[0];var n=t.dataset.index||0;switch(t.dataset.status){case"done":t.dataset.index=n,n--;break;case"wait":break;default:e.firstKiss=!0,j(e)}}};var $e={current:0,curItem:0,init:z,setIndex:function(e,t){function n(){t--<=0||(l(),settimeout(n,300))}e--,0>e&&(e=0),H(e),t>0&&n()},next:p,prev:f,doSlide:E,proxyFn:W,showPaint:K,removePaint:we,buildNextItem:L,buildPrevItem:x,magic:j};["on","un","fire"].forEach(function(e){$e[e]=function(){var t=l(arguments);t[0]="slide."+t[0],n[e].apply(null,t)}}),e.Slide=$e,e.jumpSlide=H,e.getcurIndex=A;try{window.console&&window.console.log&&(console.log("Powered By nodePPT, %c https://github.com/ksky521/nodePPT","color:red"),console.log("Install nodePPT: %c npm install -g nodeppt","color:red"))}catch(De){}}(window,document,MixJS.event.broadcast,MixJS.loadJS,MixJS.loadCSS);</=0||(l(),settimeout(n,300))}e--,0></0&&(fe=0),void>